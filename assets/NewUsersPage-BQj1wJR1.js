import{r as i,j as s,t as h,s as p}from"./index-CgXIZnNG.js";import{u as f}from"./Section-BpcLTD7E.js";import{u as x,h as y,i as g,q as u,b as P}from"./removeMask-Doe5s-D4.js";import{U as b}from"./UserForm-Dl_81Xn8.js";import"./users-keCBaMHz.js";const S=i.createContext(null);function U({children:t}){const[e,a]=i.useState("");function r(n){a(n)}const o=i.useMemo(()=>({example:e,handleExample:r}),[e]);return s.jsx(S.Provider,{value:o,children:t})}const v={fullName:"",email:"",cellphone:"",cpf:"",code:"",birthDate:"",address:{cep:"",street:"",number:"",neighborhood:"",city:"",state:"",complement:""},category:"admin"};function C(){const{safeFetch:t}=x(),{showSuccessSnackbar:e}=y(),a=f({queryKey:[u.CEP_API]}),r=h(),o=p();async function n(l){const d={...l,isActive:!0};await t({path:`${P}/users`,method:"POST",body:d})}const{mutate:c,isPending:m}=g({mutationFn:n,onSuccess:()=>{e({title:"Usuário criado com sucesso"}),o("/users"),r.invalidateQueries({queryKey:[u.USERS]})}});return s.jsx(b,{defaultValues:v,onSubmit:c,isPending:m||!!a,headerPrimaryBtnLabel:"Criar",headerTitle:"Novo usuário"})}function q(){return s.jsx(U,{children:s.jsx(C,{})})}export{q as default};
